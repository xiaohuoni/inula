"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[213],{39897:function(s,n,e){e.r(n);var l=e(77117),c=e.n(l),a=e(42808),i=e(45728),r=e(71674);n.default=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.useEffect)((function(){var s;if(0!==window.location.hash.length){var n=decodeURIComponent(window.location.hash);setTimeout((function(){var s;null===(s=document.getElementById(n.slice(1)))||void 0===s||s.scrollIntoView()}),100)}else window.scrollTo(0,0);null===(s=document.getElementById("active-nav-item"))||void 0===s||s.scrollIntoView({behavior:"smooth",block:"center"})}),[]);var n=s.components||{},e=n.wrapper;return e?(0,r.jsx)(e,c()(c()({},s),{},{children:(0,r.jsx)(l,{})})):l();function l(){var n=Object.assign({h1:"h1",a:"a",span:"span",p:"p",div:"div",pre:"pre",code:"code",h2:"h2",h3:"h3",strong:"strong",blockquote:"blockquote",ol:"ol",li:"li",h4:"h4",h5:"h5"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"目录结构",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#目录结构",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"目录结构"]}),"\n",(0,r.jsx)(n.p,{children:"这里罗列了 inula 项目中约定(或推荐)的目录结构，在项目开发中，请遵照这个目录结构组织代码。"}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"bash","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"bash","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#DCDCAA"},children:"."})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── config"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── config.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── dist"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── mock"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── app.ts｜tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── src"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── layout"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── layout.tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── index.tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── stores"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── global.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   └── hello.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── locales"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── zh-TW"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   └── zh-CN.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── pages"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── home"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   │   ├── index.style.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   │   └── index.tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   ├── list"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   │   ├── index.style.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   │   └── index.tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   └── 404.tsx"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── utils // 推荐目录"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   └── index.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── services // 推荐目录"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   │   └── api.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── app.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── global.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   ├── global.(css)"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── plugin.ts"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── favicon.(ico|gif|png|jpg|jpeg|svg|avif|webp)"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── loading.(tsx|jsx)"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── node_modules"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│   └── .cache"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│       ├── bundler-webpack"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"│       └── 其他构建缓存"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── .env"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── .env.local 本地的环境变量"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── .inularc.ts // 与 config/config 文件 2 选一"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── package.json"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"├── tsconfig.json"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"└── typings.d.ts"})})]})})}),"\n",(0,r.jsxs)(n.h2,{id:"根目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#根目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"根目录"]}),"\n",(0,r.jsxs)(n.h3,{id:"env",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#env",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),".env"]}),"\n",(0,r.jsx)(n.p,{children:"环境变量，比如："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"PORT=8888"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"COMPRESS=none"})})]})})}),"\n",(0,r.jsxs)(n.h3,{id:"envlocal",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#envlocal",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),".env.local"]}),"\n",(0,r.jsx)(n.p,{children:"本地的环境环境变量，一些不能传到远程的需要保密的环境变量，可以写在这个文件中，比如："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,r.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"AZURE_OPENAI_API_KEY=xxxx"})})})})}),"\n",(0,r.jsx)(a.v0,{emoji:"🔔",type:"warning",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["不要提交 ",(0,r.jsx)(n.code,{children:".env.local"})," 文件到 git 仓库，默认已在 ",(0,r.jsx)(n.code,{children:".gitignore"})," 被忽略。"]})})}),"\n",(0,r.jsxs)(n.h3,{id:"inularcts",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#inularcts",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),".inularc.ts"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["与 ",(0,r.jsx)(n.code,{children:"config/config.ts"})," 文件功能相同，2 选 1 。",(0,r.jsx)(n.code,{children:".inularc.ts"})," 文件优先级较高"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["配置文件，包含 Inula 所有",(0,r.jsx)(n.a,{href:"../api/config",children:"非运行时配置"}),"（运行时配置定义于 ",(0,r.jsx)(n.a,{href:"#apptstsx",children:(0,r.jsx)(n.code,{children:"app.ts"})}),"）。"]}),"\n",(0,r.jsxs)(n.h3,{id:"configconfigts",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#configconfigts",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"config/config.ts"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["与 ",(0,r.jsx)(n.code,{children:".inularc.ts"})," 文件功能相同，2 选 1 。",(0,r.jsx)(n.code,{children:".inularc.ts"})," 文件优先级较高"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["在一个 ",(0,r.jsx)(n.code,{children:"config"})," 文件夹下集中管理所有的配置，保持项目根目录整洁。"]}),"\n",(0,r.jsxs)(n.h3,{id:"dist-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#dist-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"dist 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["执行 ",(0,r.jsx)(n.code,{children:"inula build"})," 后产物的默认输出文件夹。可通过 ",(0,r.jsx)(n.a,{href:"../api/config#outputpath",children:(0,r.jsx)(n.code,{children:"outputPath"})})," 配置修改产物输出文件夹。"]}),"\n",(0,r.jsxs)(n.h3,{id:"mock-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#mock-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"mock 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["存放 mock 文件，此目录下所有 ",(0,r.jsx)(n.code,{children:".ts"})," / ",(0,r.jsx)(n.code,{children:".js"})," 文件会被 mock 服务加载，从而提供模拟数据，使用方法详见 ",(0,r.jsx)(n.a,{href:"./mock",children:"Mock"})," 。"]}),"\n",(0,r.jsxs)(n.h3,{id:"public-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#public-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"public 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["存放固定的静态资源，如存放 ",(0,r.jsx)(n.code,{children:"public/image.png"})," ，则开发时可以通过 ",(0,r.jsx)(n.code,{children:"/image.png"})," 访问到，构建后会被拷贝到输出文件夹。"]}),"\n",(0,r.jsx)(n.p,{children:"注："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["对于 svg 资源，支持 ",(0,r.jsx)(n.a,{href:"../api/config#svgr",children:"svgr"})," ，可以直接导入作为组件使用："]}),"\n"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"ts","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"ts","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#C586C0"},children:"import"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"SmileUrl"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"ReactComponent"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#C586C0"},children:"as"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"SvgSmile"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" } "}),(0,r.jsx)(n.span,{style:{color:"#C586C0"},children:"from"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'./smile.svg'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:";"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#6A9955"},children:"// <SvgSmile />"})})]})})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"对于图片等资源，支持直接导入获取资源路径："}),"\n"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"tsx","data-theme":"default",children:(0,r.jsx)(n.code,{"data-language":"tsx","data-theme":"default",children:(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#6A9955"},children:"// <img src={imgUrl} />>"})})})})}),"\n",(0,r.jsx)(n.p,{children:"所以一般我们使用导入使用的方式使用静态资源，因为比较小的图片还会被优先处理成内置的 base64 数据。"}),"\n",(0,r.jsx)(a.v0,{emoji:"🔔",type:"error",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["不能在 ",(0,r.jsx)(n.code,{children:"public"})," 目录下面存放 ",(0,r.jsx)(n.code,{children:"index.html"})," 文件，因为构建时会覆盖构建产物。"]})})}),"\n",(0,r.jsxs)(n.h3,{id:"src-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#src-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),(0,r.jsx)(n.code,{children:"src"})," 目录"]}),"\n",(0,r.jsxs)(n.h4,{id:"inula-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#inula-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),".inula 目录"]}),"\n",(0,r.jsx)(a.v0,{emoji:"🔔",type:"warning",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["不要提交 ",(0,r.jsx)(n.code,{children:".inula"})," 临时文件到 git 仓库，默认已在 ",(0,r.jsx)(n.code,{children:".gitignore"})," 被忽略。"]})})}),"\n",(0,r.jsx)(n.p,{children:"dev 时的临时文件目录，比如入口文件、路由等，都会被临时生成到这里。"}),"\n",(0,r.jsxs)(n.h4,{id:"inula-production-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#inula-production-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),".inula-production 目录"]}),"\n",(0,r.jsx)(a.v0,{emoji:"🔔",type:"warning",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["不要提交 ",(0,r.jsx)(n.code,{children:".inula-production"})," 临时文件到 git 仓库，默认已在 ",(0,r.jsx)(n.code,{children:".gitignore"}),"\n被忽略。"]})})}),"\n",(0,r.jsx)(n.p,{children:"build 时的临时文件目录，比如入口文件、路由等，都会被临时生成到这里。"}),"\n",(0,r.jsxs)(n.h4,{id:"appts--tsx",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#appts--tsx",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"app.[ts ｜ tsx]"]}),"\n",(0,r.jsx)(n.p,{children:"运行时配置文件，可以在这里扩展运行时的能力，比如修改路由、修改 render 方法等。"}),"\n",(0,r.jsx)(n.p,{children:"运行时配置带来的逻辑会在浏览器中运行，因此当有远程配置、动态内容时，这些我们在本地开发时还不确定，不能写死，所以需要在浏览器实际运行项目时动态获取他们。"}),"\n",(0,r.jsx)(n.p,{children:"详细用法见相关插件的说明。"}),"\n",(0,r.jsxs)(n.h4,{id:"layoutsindextsx",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#layoutsindextsx",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"layouts/index.tsx"]}),"\n",(0,r.jsx)(n.p,{children:"全局布局，默认会在所有路由下生效，比如有以下路由关系："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[\n  { path: '/', component: '@/pages/index' },\n  { path: '/users', component: '@/pages/users' },\n]\n"})}),"\n",(0,r.jsx)(n.p,{children:"输出为："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"jsx","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"jsx","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#808080"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Layout"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Page"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"index"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:"</"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Page"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Page"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"users"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:"</"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Page"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#808080"},children:"</"}),(0,r.jsx)(n.span,{style:{color:"#4EC9B0"},children:"Layout"}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:">"})]})]})})}),"\n",(0,r.jsxs)(n.h4,{id:"stores-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#stores-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"stores 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["约定 ",(0,r.jsx)(n.code,{children:"stores/*"})," 文件夹下的 store 的文件，会被自动加载为状态管理器，详见 ",(0,r.jsx)(n.a,{href:"./x",children:"Inula-X"}),"。"]}),"\n",(0,r.jsxs)(n.h4,{id:"locales-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#locales-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"locales 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["约定 ",(0,r.jsx)(n.code,{children:"locales/*"})," 文件夹下文件，会被自动加载为国际化文件，详见 [./api/intl]。"]}),"\n",(0,r.jsxs)(n.h4,{id:"pages-目录",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#pages-目录",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"pages 目录"]}),"\n",(0,r.jsxs)(n.p,{children:["约定式路由默认以 ",(0,r.jsx)(n.code,{children:"pages/*"})," 文件夹的文件层级结构来生成路由表。"]}),"\n",(0,r.jsxs)(n.h5,{id:"基础路由",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#基础路由",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"基础路由"]}),"\n",(0,r.jsxs)(n.p,{children:["假设 ",(0,r.jsx)(n.code,{children:"pages"})," 目录结构如下："]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"+ pages/\n  + users/\n    - index.tsx\n  - index.tsx\n"})}),"\n",(0,r.jsx)(n.p,{children:"那么，会自动生成路由配置如下："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"ts","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"ts","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"["})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/index.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/users/'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/users/index.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"];"})})]})})}),"\n",(0,r.jsxs)(n.h5,{id:"动态路由",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#动态路由",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"动态路由"]}),"\n",(0,r.jsxs)(n.p,{children:["约定带 ",(0,r.jsx)(n.code,{children:"$"})," 前缀的目录或文件为动态路由。若 ",(0,r.jsx)(n.code,{children:"$"})," 后不指定参数名，则代表 ",(0,r.jsx)(n.code,{children:"*"})," 通配，比如以下目录结构："]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"+ pages/\n  + foo/\n    - $slug.tsx\n  + $bar/\n    - $.tsx\n  - index.tsx\n"})}),"\n",(0,r.jsx)(n.p,{children:"会生成路由配置如下："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"ts","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"ts","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"["})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/index.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/foo/:slug'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/foo/$slug.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/:bar/*'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/$bar/$.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"];"})})]})})}),"\n",(0,r.jsxs)(n.h5,{id:"pages404tsx",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#pages404tsx",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"pages/404.tsx"]}),"\n",(0,r.jsx)(n.p,{children:"在使用约定式路由时，该文件会自动被注册为全局 404 的 fallback 页面。若你使用配置式路由，需要自行配置兜底路由到路由表最后一个："}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"ts","data-theme":"default",children:(0,r.jsxs)(n.code,{"data-language":"ts","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#C8C8C8"},children:"routes"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:": ["})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"#6A9955"},children:"// other routes ..."})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"  { "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"path:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'/*'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:", "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"component:"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:"'@/pages/404.tsx'"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" },"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"];"})})]})})}),"\n",(0,r.jsxs)(n.h4,{id:"globaljtsx",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#globaljtsx",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"global.(j|t)sx?"]}),"\n",(0,r.jsx)(n.p,{children:"全局前置脚本文件。"}),"\n",(0,r.jsxs)(n.p,{children:["Inula 区别于其他前端框架，没有显式的程序主入口（如 ",(0,r.jsx)(n.code,{children:"src/index.ts"}),"），所以当你有需要在应用前置、全局运行的逻辑时，优先考虑写入 ",(0,r.jsx)(n.code,{children:"global.ts"})," 。"]}),"\n",(0,r.jsxs)(n.p,{children:["当你需要添加全局 Context 、修改应用运行时，请使用 ",(0,r.jsx)(n.a,{href:"#apptstsx",children:(0,r.jsx)(n.code,{children:"app.tsx"})})," 。"]}),"\n",(0,r.jsxs)(n.h4,{id:"globalcss",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#globalcss",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"global.(css)"]}),"\n",(0,r.jsx)(n.p,{children:"全局样式文件。"}),"\n",(0,r.jsx)(n.p,{children:"当你有需要全局使用的样式时，请考虑加入此文件。"}),"\n",(0,r.jsx)(a.v0,{emoji:"💡",type:"info",children:(0,r.jsxs)(n.p,{children:["需要注意的是，此文件的优先级在第三方组件库的样式之后，所以当你有覆盖第三方库样式的需求时，请使用\n",(0,r.jsx)(n.a,{href:"#overridescsslesssassscss",children:(0,r.jsx)(n.code,{children:"overrides.css"})})," 。"]})}),"\n",(0,r.jsxs)(n.h4,{id:"overridescss",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#overridescss",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"overrides.(css)"]}),"\n",(0,r.jsx)(n.p,{children:"高优先级全局样式文件。"}),"\n",(0,r.jsxs)(n.p,{children:["该文件一般专用于覆盖第三方库样式，其中所有 CSS 选择器都会附加 ",(0,r.jsx)(n.code,{children:"body"})," 前缀以抬高优先级。"]}),"\n",(0,r.jsxs)(n.h4,{id:"loadingtsxjsx",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#loadingtsxjsx",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"loading.(tsx|jsx)"]}),"\n",(0,r.jsx)(n.p,{children:"全局加载组件。"}),"\n",(0,r.jsx)(n.p,{children:"在页面切换时存在加载过程，通过该文件来配置加载动画。"}),"\n",(0,r.jsxs)(n.h3,{id:"plugints",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#plugints",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"plugin.ts"]}),"\n",(0,r.jsx)(n.p,{children:"项目级插件。"}),"\n",(0,r.jsxs)(n.p,{children:["当你有插件定制需求时，请访问",(0,r.jsx)(n.a,{href:"https://umijs.org/docs/api/plugin-api",children:" Umi 插件文档"}),"学习如何编写。一般在业务开发中，定制插件的场景较少，可以先提个 Issues 让框架维护人员评判一下是否真的需要自定义开发插件"]}),"\n",(0,r.jsxs)(n.h3,{id:"favicon",children:[(0,r.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#favicon",children:(0,r.jsx)(n.span,{className:"icon icon-link"})}),"favicon"]}),"\n",(0,r.jsxs)(n.p,{children:["站点 ",(0,r.jsx)(n.code,{children:"favicon"})," 图标文件。"]}),"\n",(0,r.jsxs)(n.p,{children:["当存在 ",(0,r.jsx)(n.code,{children:"src/favicon.(ico|gif|png|jpg|jpeg|svg|avif|webp)"})," 文件时，将会自动在产物中添加站点 ",(0,r.jsx)(n.code,{children:"favicon"})," ："]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,r.jsx)(n.pre,{"data-language":"html","data-theme":"default",children:(0,r.jsx)(n.code,{"data-language":"html","data-theme":"default",children:(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"#808080"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"#569CD6"},children:"link"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"rel"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"="}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:'"shortcut icon"'}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#9CDCFE"},children:"href"}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:"="}),(0,r.jsx)(n.span,{style:{color:"#CE9178"},children:'"/favicon.png"'}),(0,r.jsx)(n.span,{style:{color:"#D4D4D4"},children:" "}),(0,r.jsx)(n.span,{style:{color:"#808080"},children:"/>"})]})})})}),"\n",(0,r.jsxs)(n.p,{children:["若使用外部资源等，可以使用 ",(0,r.jsx)(n.a,{href:"../api/config#favicons",children:"favicons"})," 手动配置站点图标，配置值优先于约定。"]})]})}}}}]);